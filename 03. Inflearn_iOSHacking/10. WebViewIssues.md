# Webview Issues

### 1) Webview
- 웹뷰는 프레임워크에 내장된 웹 브라우저 컴포넌트로 View의 형태로 앱에 임베딩하는 것을 말하며 쉽게 앱 내에 웹 페이지를 넣는 것을 의미한다
- API를 통해서 받은 URL을 호출해 보면 응답 값으로 JSON, XML 같은 데이터 포맷이 아닌 HTML로 들어오게 되는데 이렇게 들어온 데이터는 파싱을 해줄 수가 없기 때문에 해당 HTML 데이터를 처리해 웹 페이지로 보여주는 역할을 한다



### 2) iOS 버전에 따른 WebView 종류

- WKWebView (iOS 2.0)
- UIWebView (iOS 8.0)
- SFSafariView (iOS 9.0 이상)

버전이 올라갈수록 성능 최적화되며 DVIA 앱의 경우 UIWebview 방식으로 설계됨

### 3) WebView 취약점

- 웹뷰에서 발생하는 인젝션 취약점으로 입력 유효성 검사가 제대로 이루어지지 않아 클라이언트 측 인젝션이 발생하는 취약점이다.
- 유효성 검사가 이루어지지 않아 클라이언트 측에서 코드 삽입이 되므로 디바이스에서 기본 기능 호출 및 악의적인 액티비티 수행이 가능하다.
- 예) XSS


![](WebView1.png)

사용자 입력 값이 그대로 HTML 으로 반환됨을 확인하여 XSS 악성 스크립트 구문 삽입 시 동작됨 확인

### 4) 대응방안

사용자 입력 값에 대한 유효성 검사 필요 (클라이언트 측 검사)
- NSXMLParser 클래스 또는 libxml2 API와 같이 각 노드에 객체를 제공하는 라이브러리를 사용
- HTML 또는 XML을 수동으로 구성해야 하는 경우 사용자 입력 값 반환 시 HTML Entity 된 문자열로 반환

---

